angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.alert","ui.bootstrap.transition","ui.bootstrap.dialog","ui.bootstrap.position","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/dialog/message.html","template/typeahead/typeahead.html"]),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(t,e,o){t.closeable="close"in o}}}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,o){function n(t){for(var e in t)if(void 0!==a.style[e])return t[e]}var i=function(n,a,s){s=s||{};var r=t.defer(),l=i[s.animation?"animationEndEventName":"transitionEndEventName"],p=function(){o.$apply(function(){n.unbind(l,p),r.resolve(n)})};return l&&n.bind(l,p),e(function(){angular.isString(a)?n.addClass(a):angular.isFunction(a)?a(n):angular.isObject(a)&&n.css(a),l||r.resolve(n)}),r.promise.cancel=function(){l&&n.unbind(l,p),r.reject("Transition cancelled")},r.promise},a=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},r={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=n(s),i.animationEndEventName=n(r),i}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(t,e,o){t.title=o.title,t.message=o.message,t.buttons=o.buttons,t.close=function(t){e.close(t)}}]),dialogModule.provider("$dialog",function(){var t={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},e={},o={value:0};this.options=function(t){e=t},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(n,i,a,s,r,l,p,c,d){function u(t){var e=angular.element("<div>");return e.addClass(t),e}function h(o){var n=this,i=this.options=angular.extend({},t,e,o);this._open=!1,this.backdropEl=u(i.backdropClass),i.backdropFade&&(this.backdropEl.addClass(i.transitionClass),this.backdropEl.removeClass(i.triggerClass)),this.modalEl=u(i.dialogClass),i.dialogFade&&(this.modalEl.addClass(i.transitionClass),this.modalEl.removeClass(i.triggerClass)),this.handledEscapeKey=function(t){27===t.which&&(n.close(),t.preventDefault(),n.$scope.$apply())},this.handleBackDropClick=function(t){n.close(),t.preventDefault(),n.$scope.$apply()},this.handleLocationChange=function(){n.close()}}var m=i.find("body");return h.prototype.isOpen=function(){return this._open},h.prototype.open=function(t,e){var o=this,n=this.options;if(t&&(n.templateUrl=t),e&&(n.controller=e),!n.template&&!n.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(t){var e=t.$scope=o.$scope=t.$scope?t.$scope:s.$new();if(o.modalEl.html(t.$template),o.options.controller){var n=r(o.options.controller,t);o.modalEl.children().data("ngControllerController",n)}a(o.modalEl)(e),o._addElementsToDom(),m.addClass(o.options.dialogOpenClass),setTimeout(function(){o.options.dialogFade&&o.modalEl.addClass(o.options.triggerClass),o.options.backdropFade&&o.backdropEl.addClass(o.options.triggerClass)}),o._bindEvents()}),this.deferred=p.defer(),this.deferred.promise},h.prototype.close=function(t){function e(t){t.removeClass(n.options.triggerClass)}function o(){n._open&&n._onCloseComplete(t)}var n=this,i=this._getFadingElements();if(m.removeClass(n.options.dialogOpenClass),i.length>0)for(var a=i.length-1;a>=0;a--)c(i[a],e).then(o);else this._onCloseComplete(t)},h.prototype._getFadingElements=function(){var t=[];return this.options.dialogFade&&t.push(this.modalEl),this.options.backdropFade&&t.push(this.backdropEl),t},h.prototype._bindEvents=function(){this.options.keyboard&&m.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick),this.$scope.$on("$locationChangeSuccess",this.handleLocationChange)},h.prototype._unbindEvents=function(){this.options.keyboard&&m.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},h.prototype._onCloseComplete=function(t){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(t)},h.prototype._addElementsToDom=function(){m.append(this.modalEl),this.options.backdrop&&(0===o.value&&m.append(this.backdropEl),o.value++),this._open=!0},h.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(o.value--,0===o.value&&this.backdropEl.remove()),this._open=!1},h.prototype._loadResolves=function(){var t,e=[],o=[],i=this;return this.options.template?t=p.when(this.options.template):this.options.templateUrl&&(t=n.get(this.options.templateUrl,{cache:l}).then(function(t){return t.data})),angular.forEach(this.options.resolve||[],function(t,n){o.push(n),e.push(angular.isString(t)?d.get(t):d.invoke(t))}),o.push("$template"),e.push(t),p.all(e).then(function(t){var e={};return angular.forEach(t,function(t,n){e[o[n]]=t}),e.dialog=i,e})},{dialog:function(t){return new h(t)},messageBox:function(t,e,o){return new h({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:t,message:e,buttons:o}}}})}}}]}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function o(t,o){return t.currentStyle?t.currentStyle[o]:e.getComputedStyle?e.getComputedStyle(t)[o]:t.style[o]}function n(t){return"static"===(o(t,"position")||"static")}var i=function(e){for(var o=t[0],i=e.offsetParent||o;i&&i!==o&&n(i);)i=i.offsetParent;return i||o};return{position:function(e){var o=this.offset(e),n={top:0,left:0},a=i(e[0]);return a!=t[0]&&(n=this.offset(angular.element(a)),n.top+=a.clientTop,n.left+=a.clientLeft),{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:o.top-n.top,left:o.left-n.left}},offset:function(o){var n=o[0].getBoundingClientRect();return{width:o.prop("offsetWidth"),height:o.prop("offsetHeight"),top:n.top+(e.pageYOffset||t[0].body.scrollTop),left:n.left+(e.pageXOffset||t[0].body.scrollLeft)}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(o){var n=o.match(e);if(!n)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+o+"'.");return{itemName:n[3],source:t(n[4]),viewMapper:t(n[2]||n[1]),modelMapper:t(n[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$document","$position","typeaheadParser",function(t,e,o,n,i,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(r,l,p,c){var d,u=r.$eval(p.typeaheadMinLength)||1,h=a.parse(p.typeahead),m=r.$eval(p.typeaheadEditable)!==!1,f=e(p.typeaheadLoading).assign||angular.noop,g=angular.element("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query' position='position'></typeahead-popup>"),v=r.$new();r.$on("$destroy",function(){v.$destroy()});var b=function(){v.matches=[],v.activeIdx=-1},$=function(t){var e={$viewValue:t};f(r,!0),o.when(h.source(v,e)).then(function(o){if(t===c.$viewValue){if(o.length>0){v.activeIdx=0,v.matches.length=0;for(var n=0;o.length>n;n++)e[h.itemName]=o[n],v.matches.push({label:h.viewMapper(v,e),model:o[n]});v.query=t,v.position=i.position(l),v.position.top=v.position.top+l.prop("offsetHeight")}else b();f(r,!1)}},function(){b(),f(r,!1)})};b(),v.query=void 0,c.$parsers.push(function(t){return b(),d?t:(t&&t.length>=u&&$(t),m?t:void 0)}),c.$render=function(){var t={};t[h.itemName]=d||c.$viewValue,l.val(h.viewMapper(v,t)||c.$viewValue),d=void 0},v.select=function(t){var e={};e[h.itemName]=d=v.matches[t].model,c.$setViewValue(h.modelMapper(v,e)),c.$render()},l.bind("keydown",function(t){0!==v.matches.length&&-1!==s.indexOf(t.which)&&(t.preventDefault(),40===t.which?(v.activeIdx=(v.activeIdx+1)%v.matches.length,v.$digest()):38===t.which?(v.activeIdx=(v.activeIdx?v.activeIdx:v.matches.length)-1,v.$digest()):13===t.which||9===t.which?v.$apply(function(){v.select(v.activeIdx)}):27===t.which&&(t.stopPropagation(),b(),v.$digest()))}),n.bind("click",function(){b(),v.$digest()}),l.after(t(g)(v))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(t){t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,o){return o?e.replace(RegExp(t(o),"gi"),"<strong>$&</strong>"):o}}),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>    <div ng-transclude></div></div>")}]),angular.module("template/dialog/message.html",[]).run(["$templateCache",function(t){t.put("template/dialog/message.html",'<div class="modal-header">	<h1>{{ title }}</h1></div><div class="modal-body">	<p>{{ message }}</p></div><div class="modal-footer">	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class=btn ng-class="btn.cssClass">{{ btn.label }}</button></div>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead.html",'<div class="dropdown clearfix" ng-class="{open: isOpen()}">    <ul class="typeahead dropdown-menu">        <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">            <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>        </li>    </ul></div>')}]);